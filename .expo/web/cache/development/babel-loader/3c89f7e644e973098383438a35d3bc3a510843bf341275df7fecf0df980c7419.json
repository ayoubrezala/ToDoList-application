{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useContext, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport { TokenContext, UsernameContext } from \"../Contexte/Context\";\nimport { signIn } from \"../components/sign\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar backgroundImage = require(\"../assets/1489353.jpg\");\nexport default function SignInScreen(_ref) {\n  var navigation = _ref.navigation;\n  var _useContext = useContext(TokenContext),\n    _useContext2 = _slicedToArray(_useContext, 2),\n    setToken = _useContext2[1];\n  var _useContext3 = useContext(UsernameContext),\n    _useContext4 = _slicedToArray(_useContext3, 2),\n    setUsernameContext = _useContext4[1];\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    usernameInput = _useState2[0],\n    setUsernameInput = _useState2[1];\n  var _useState3 = useState(''),\n    _useState4 = _slicedToArray(_useState3, 2),\n    passwordInput = _useState4[0],\n    setPasswordInput = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    loading = _useState6[0],\n    setLoading = _useState6[1];\n  var _useState7 = useState(null),\n    _useState8 = _slicedToArray(_useState7, 2),\n    error = _useState8[0],\n    setError = _useState8[1];\n  var signin = function signin() {\n    setLoading(true);\n    setError(null);\n    signIn(usernameInput, passwordInput).then(function (token) {\n      setLoading(false);\n      setToken(token);\n      setUsernameContext(usernameInput);\n      navigation.navigate('Home');\n    }).catch(function (err) {\n      setLoading(false);\n      setError(err.message);\n    });\n  };\n  return _jsx(ImageBackground, {\n    source: backgroundImage,\n    style: styles.background,\n    children: _jsxs(View, {\n      style: styles.container,\n      children: [_jsx(Text, {\n        style: styles.title,\n        children: \"Connexion\"\n      }), _jsx(TextInput, {\n        placeholder: \"Nom d'utilisateur\",\n        value: usernameInput,\n        onChangeText: setUsernameInput,\n        style: styles.input\n      }), _jsx(TextInput, {\n        placeholder: \"Mot de passe\",\n        value: passwordInput,\n        onChangeText: setPasswordInput,\n        secureTextEntry: true,\n        style: styles.input\n      }), loading ? _jsx(ActivityIndicator, {\n        size: \"large\",\n        color: \"#0000ff\"\n      }) : _jsx(Button, {\n        title: \"Se connecter\",\n        onPress: signin\n      }), error && _jsx(Text, {\n        style: styles.errorText,\n        children: error\n      })]\n    })\n  });\n}\nvar styles = StyleSheet.create({\n  background: {\n    flex: 1,\n    resizeMode: 'cover'\n  },\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(30, 39, 46, 0.8)',\n    padding: 20\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 20,\n    color: '#ffffff'\n  },\n  input: {\n    width: '90%',\n    height: 50,\n    borderWidth: 0,\n    marginBottom: 20,\n    paddingHorizontal: 15,\n    borderRadius: 25,\n    backgroundColor: '#ffffff',\n    fontSize: 16,\n    color: '#333',\n    shadowColor: '#000',\n    shadowOpacity: 0.2,\n    shadowOffset: {\n      width: 0,\n      height: 4\n    },\n    shadowRadius: 10,\n    elevation: 5\n  },\n  errorText: {\n    color: '#ff6b6b',\n    marginTop: 15,\n    fontSize: 14,\n    fontWeight: '600',\n    textAlign: 'center'\n  }\n});","map":{"version":3,"names":["React","useContext","useState","View","TextInput","Button","StyleSheet","ActivityIndicator","Text","ImageBackground","TokenContext","UsernameContext","signIn","jsx","_jsx","jsxs","_jsxs","backgroundImage","require","SignInScreen","_ref","navigation","_useContext","_useContext2","_slicedToArray","setToken","_useContext3","_useContext4","setUsernameContext","_useState","_useState2","usernameInput","setUsernameInput","_useState3","_useState4","passwordInput","setPasswordInput","_useState5","_useState6","loading","setLoading","_useState7","_useState8","error","setError","signin","then","token","navigate","catch","err","message","source","style","styles","background","children","container","title","placeholder","value","onChangeText","input","secureTextEntry","size","color","onPress","errorText","create","flex","resizeMode","justifyContent","alignItems","backgroundColor","padding","fontSize","fontWeight","marginBottom","width","height","borderWidth","paddingHorizontal","borderRadius","shadowColor","shadowOpacity","shadowOffset","shadowRadius","elevation","marginTop","textAlign"],"sources":["/home/rezala231/Documents/sd/ToDoList-application/Screen/SignInScreen.js"],"sourcesContent":["import React, { useContext, useState } from 'react';\nimport { View, TextInput, Button, StyleSheet, ActivityIndicator, Text, ImageBackground } from 'react-native';\nimport { TokenContext, UsernameContext } from '../Contexte/Context';\nimport { signIn } from '../components/sign';\n\nconst backgroundImage = require('../assets/1489353.jpg');\n\nexport default function SignInScreen({ navigation }) {\n  const [, setToken] = useContext(TokenContext);\n  const [, setUsernameContext] = useContext(UsernameContext);\n  const [usernameInput, setUsernameInput] = useState('');\n  const [passwordInput, setPasswordInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const signin = () => {\n    setLoading(true);\n    setError(null);\n\n    signIn(usernameInput, passwordInput)\n      .then((token) => {\n        setLoading(false);\n        setToken(token);\n        setUsernameContext(usernameInput);\n        navigation.navigate('Home');\n      })\n      .catch((err) => {\n        setLoading(false);\n        setError(err.message);\n      });\n  };\n\n  return (\n    <ImageBackground source={backgroundImage} style={styles.background}>\n      <View style={styles.container}>\n        <Text style={styles.title}>Connexion</Text>\n        <TextInput\n          placeholder=\"Nom d'utilisateur\"\n          value={usernameInput}\n          onChangeText={setUsernameInput}\n          style={styles.input}\n        />\n        <TextInput\n          placeholder=\"Mot de passe\"\n          value={passwordInput}\n          onChangeText={setPasswordInput}\n          secureTextEntry={true}\n          style={styles.input}\n        />\n        {loading ? (\n          <ActivityIndicator size=\"large\" color=\"#0000ff\" />\n        ) : (\n          <Button title=\"Se connecter\" onPress={signin} />\n        )}\n        {error && <Text style={styles.errorText}>{error}</Text>}\n      </View>\n    </ImageBackground>\n  );\n}\n\nconst styles = StyleSheet.create({\n  background: {\n    flex: 1,\n    resizeMode: 'cover',\n  },\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundColor: 'rgba(30, 39, 46, 0.8)',\n    padding: 20,\n  },\n  title: {\n    fontSize: 24,\n    fontWeight: 'bold',\n    marginBottom: 20,\n    color: '#ffffff',\n  },\n  input: {\n    width: '90%',\n    height: 50,\n    borderWidth: 0,\n    marginBottom: 20,\n    paddingHorizontal: 15,\n    borderRadius: 25,\n    backgroundColor: '#ffffff',\n    fontSize: 16,\n    color: '#333',\n    shadowColor: '#000',\n    shadowOpacity: 0.2,\n    shadowOffset: { width: 0, height: 4 },\n    shadowRadius: 10,\n    elevation: 5,\n  },\n  errorText: {\n    color: '#ff6b6b',\n    marginTop: 15,\n    fontSize: 14,\n    fontWeight: '600',\n    textAlign: 'center',\n  },\n});\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}